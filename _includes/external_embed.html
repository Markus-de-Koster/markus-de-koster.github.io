{% assign url = include.url %}
{% assign title = include.title | default: "Embedded content" %}
{% assign ratio = include.ratio | default: "56.25%" %}

<style>
.external-embed {
  position: relative;
  width: 100%;
  height: 100%;
  margin: 1rem 0;
}
.external-embed::before {
  content: "";
  display: block;
  padding-top: {{ ratio }};
}
.external-embed > iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
}
.external-consent {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #111;
  color: #fff;
  text-align: center;
  padding: 1rem;
}
.external-consent button {
  margin: 0.5rem;
  padding: 0.5rem 1rem;
  border: 0;
  border-radius: 0.25rem;
  cursor: pointer;
  font-size: 1rem;
}
</style>

<div class="external-embed"
     data-external-url="{{ url | relative_url }}"
     data-title="{{ title }}"
     data-ratio="{{ ratio }}">
  <div class="external-consent">
    <p>This embedded content loads external resources.
       Details are listed in the <a href="/imprint" target="_blank" rel="noopener">imprint</a>.
    </p>
    <p>Load this content?</p>
    <div>
      <button class="external-accept">Load</button>
      <button class="external-reject">No thanks</button>
    </div>
  </div>
</div>
